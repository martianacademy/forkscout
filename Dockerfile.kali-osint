# â”€â”€â”€ Kali Linux OSINT Environment â”€â”€â”€
# Built on top of official Kali Linux image
# Purpose: OSINT (Open Source Intelligence) â€” publicly available information gathering
#
# Included OSINT tools:
#   - theHarvester     â†’ emails, subdomains, hosts, employee names from public sources
#   - recon-ng         â†’ full-featured web reconnaissance framework
#   - spiderfoot       â†’ automated OSINT collection
#   - sherlock         â†’ find usernames across social networks
#   - holehe           â†’ check if email is used on 120+ websites
#   - exiftool         â†’ extract metadata from files/images
#   - whois            â†’ domain/IP ownership lookup
#   - nslookup / dig   â†’ DNS reconnaissance
#   - curl / wget      â†’ web data fetching
#   - python3 + pip    â†’ custom OSINT scripts

FROM kalilinux/kali-rolling

LABEL maintainer="Forkscout OSINT Lab"
LABEL description="Kali Linux OSINT environment â€” open source intelligence gathering tools"
LABEL purpose="legitimate-osint-research"

# â”€â”€ Environment â”€â”€
ENV DEBIAN_FRONTEND=noninteractive
ENV TERM=xterm-256color

# â”€â”€ System Update + Core Tools â”€â”€
RUN apt-get update && apt-get upgrade -y && \
    apt-get install -y --no-install-recommends \
    curl \
    wget \
    git \
    vim \
    nano \
    unzip \
    zip \
    jq \
    tree \
    htop \
    net-tools \
    whois \
    dnsutils \
    nmap \
    exiftool \
    python3 \
    python3-pip \
    python3-venv \
    python3-dev \
    python3-requests \
    python3-bs4 \
    python3-lxml \
    python3-pandas \
    tor \
    theharvester \
    sherlock \
    recon-ng \
    spiderfoot \
    && apt-get clean \
    && rm -rf /var/lib/apt/lists/*

# â”€â”€ Python OSINT Tools (only what apt doesn't provide) â”€â”€
RUN pip3 install --no-cache-dir --break-system-packages \
    holehe \
    googlesearch-python \
    shodan

# â”€â”€ Convenience aliases â”€â”€
RUN echo '#!/bin/bash' > /usr/local/bin/reconng && \
    echo 'recon-ng "$@"' >> /usr/local/bin/reconng && \
    chmod +x /usr/local/bin/reconng

# â”€â”€ Working directory â”€â”€
WORKDIR /osint

# â”€â”€ Welcome message â”€â”€
RUN echo 'echo ""' >> /root/.bashrc && \
    echo 'echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"' >> /root/.bashrc && \
    echo 'echo "â•‘   ðŸ” Kali OSINT Lab â€” Veronica        â•‘"' >> /root/.bashrc && \
    echo 'echo "â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£"' >> /root/.bashrc && \
    echo 'echo "â•‘  theHarvester  â†’ theharvester -h      â•‘"' >> /root/.bashrc && \
    echo 'echo "â•‘  Sherlock      â†’ sherlock <username>  â•‘"' >> /root/.bashrc && \
    echo 'echo "â•‘  Holehe        â†’ holehe <email>       â•‘"' >> /root/.bashrc && \
    echo 'echo "â•‘  SpiderFoot    â†’ spiderfoot -h        â•‘"' >> /root/.bashrc && \
    echo 'echo "â•‘  recon-ng      â†’ reconng              â•‘"' >> /root/.bashrc && \
    echo 'echo "â•‘  ExifTool      â†’ exiftool <file>      â•‘"' >> /root/.bashrc && \
    echo 'echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"' >> /root/.bashrc && \
    echo 'echo ""' >> /root/.bashrc

# â”€â”€ Volume for saving results â”€â”€
VOLUME ["/osint/results"]

# â”€â”€ Default shell â”€â”€
CMD ["/bin/bash"]
